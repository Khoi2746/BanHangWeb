<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <title>Checkout</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
    <style>
        body { font-family: "Helvetica Neue", Helvetica, Arial, sans-serif; }
        .product-img { width: 80px; height: 80px; object-fit: cover; border-radius: 8px; }
        .form-control { padding: 12px; border-radius: 8px; margin-bottom: 15px; }
        .btn-place-order { background: #111; color: #fff; width: 100%; padding: 15px; border-radius: 30px; border: none; font-weight: bold; }
        .btn-place-order:hover { background: #333; }
    </style>
</head>
<body>

<div class="container py-5">
    <div class="row">
        <div class="col-lg-7 pe-lg-5">
            <h2 class="mb-4">Delivery Options</h2>
            
            <form th:action="@{/place-order}" th:object="${orderForm}" method="post">
                <div class="row">
                    <div class="col-md-6">
                        <input type="text" class="form-control" th:field="*{firstName}" placeholder="First Name" required>
                    </div>
                    <div class="col-md-6">
                        <input type="text" class="form-control" th:field="*{lastName}" placeholder="Last Name" required>
                    </div>
                </div>
                
                <input type="email" class="form-control" th:field="*{email}" placeholder="Email Address" required>
                <input type="text" class="form-control" th:field="*{phoneNumber}" placeholder="Phone Number" required>
                <input type="text" class="form-control" th:field="*{address}" placeholder="Street Address" required>
                
                <h2 class="mt-4 mb-3">Payment</h2>
                <div class="p-3 border rounded mb-3">
                    <i class="fa-regular fa-credit-card"></i> Cash on Delivery (COD)
                </div>

                <button type="submit" class="btn-place-order mt-3">Place Order</button>
            </form>
        </div>
        

        <div class="col-lg-5 ps-lg-5">
            <h3 class="mb-4">Order Summary</h3>
            
            <div class="d-flex justify-content-between mb-2 text-muted">
                <span>Subtotal</span>
                <span th:text="${#numbers.formatDecimal(subtotal, 0, 'POINT', 0, 'COMMA')} + '₫'">0₫</span>
            </div>
            <div class="d-flex justify-content-between mb-4 text-muted">
                <span>Delivery/Shipping</span>
                <span>Free</span>
            </div>
            <div class="d-flex justify-content-between fw-bold border-top border-bottom py-3 mb-4">
                <span>Total</span>
                <span th:text="${#numbers.formatDecimal(total, 0, 'POINT', 0, 'COMMA')} + '₫'">0₫</span>
            </div>

            <p class="fw-bold mb-3">Arrives by Soon</p>

            <div th:each="item : ${cartItems}" class="d-flex mb-4">
                <img th:src="@{${item.product.imageUrl}}" class="product-img me-3" alt="Shoe">
                
                <div class="flex-grow-1">
                    <p class="mb-1 fw-bold" th:text="${item.product.name}">Product Name</p>
                    <p class="mb-1 text-muted small" th:text="${item.product.category}">Category</p>
                    <p class="mb-1 text-muted small">Qty <span th:text="${item.quantity}">1</span></p>
                    <p class="mb-0 text-muted" 
                       th:text="${#numbers.formatDecimal(item.product.price * item.quantity, 0, 'POINT', 0, 'COMMA')} + '₫'">
                       Price
                    </p>
                </div>
            </div>
            
        </div>
    </div>
</div>

</body>
</html>